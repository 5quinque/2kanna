function getQuoteText(){if(""===window.getSelection().toString())return!1;var e="";return window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(e=document.selection.createRange().text),e}function replyClick(e){let t,n;e.preventDefault();let o=document.getElementById("post_message");removeHighlight(),this.parentElement.parentElement.parentElement.className+=" post-reply",this.classList.forEach(function(e){if(t=e.match(/^post_(\d+)$/))return t=t[1],document.getElementById("post_parent_post").value=t,!1!==(n=getQuoteText())&&(o.value=`${o.value}>${n}\n`),!0})}function removeHighlight(){Array.from(document.getElementsByClassName("post-reply")).forEach(function(e){e.classList.remove("post-reply")})}function highlightReply(){removeHighlight();let e,t=document.getElementById("post_parent_post").value;Array.from(document.getElementsByClassName(`post_${t}`)).forEach(function(t){!1===(e=t.parentElement.parentElement.parentElement).classList.contains("post-reply")&&(t.parentElement.parentElement.parentElement.className+=" post-reply")})}Array.from(document.getElementsByClassName("reply_button")).forEach(function(e){e.onclick=replyClick}),highlightReply();